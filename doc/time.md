
##Время

###Основы

Для работы со временем Knee предоставляет класс `Time`.

###Доступ

Класс `Time` содержит ряд полезных методов для работы со временем.

####Выбор временной зоны

```php
Time::setTimeZone('Europe/Moscow');
```

По умолчанию временная зона выбирается в файле пользовательских настроек `/app/settings.php`

Так же имеется возможность указывать временную зону во многих методах класса.

####Получить временную зону

```php
Time::getTimeZone(); // Europe/Moscow
```

####Получить смещение часового пояса относительно Гринвича

```php
Time::offset(); // 14400
Time::offset('America/New_York'); // -18000
Time::offset('UTC'); // 0
```

####Получить текущую временную отметку в секундах (относительно Гринвича)

```php
Time::now(); // 1372847855
```

####Получить временную отметку начала вчерашнего дня в секундах (по умолчанию относительно установленной временной зоны)

```php
Time::yesterday(); // 1382558400
Time::yesterday('UTC'); // 1383544000
```

####Получить временную отметку начала сегодняшего дня в секундах (по умолчанию относительно установленной временной зоны)

```php
Time::today(); // 1382644800
Time::today('UTC'); // 1382630400
```

####Получить временную отметку начала завтрашнего дня в секундах (по умолчанию относительно установленной временной зоны)

```php
Time::tomorrow(); // 1382731200
Time::tomorrow('UTC'); // 1382716800
```

####Перевод минут в секунды

```php
Time::min(10); // 600
```

####Перевод часов в секунды

```php
Time::hour(12); // 43200
```

####Перевод дней в секунды

```php
Time::day(7); // 604800
```

####Перевод месяцев в секунды

```php
Time::month(24); // 63072000
```

Этот метод пытается учитывать високосный год и разницу в количестве дней каждого месяца.

####Перевод годов в секунды

```php
Time::year(5); // 157766400
```

Этот метод пытается учитывать високосный год

####Строка формата времени в секунды

```php
Time::relative('5 sec'); // 5
Time::relative('10 min'); // 600
Time::relative('12 hour'); // 43200
Time::relative('7 day'); // 604800
Time::relative('24 month'); // 63072000
Time::relative('5 year'); // 15776640
```

####Проверяет относится ли временная отметка к сегодняшнему дню (по умолчанию относительно установленной временной зоны)

```php
Time::is_today($time); // true
Time::is_today($time, 'UTC'); // false
Time::is_today(Time::today(), 'UTC'); // false
Time::is_today(Time::today('UTC'), 'UTC'); // true
Time::is_today(Time::today('UTC')-1, 'UTC'); // false
```

####Проверяет относится ли временная отметка ко вчерашнему дню (по умолчанию относительно установленной временной зоны)

```php
Time::is_yesterday($time); // true
Time::is_yesterday($time, 'UTC'); // false
```

####Проверяет относится ли временная отметка к завтрашнему дню (по умолчанию относительно установленной временной зоны)

```php
Time::is_tomorrow($time); // true
Time::is_tomorrow($time, 'UTC'); // false
```

####Преобразует дату в метку времени (по умолчанию относительно установленной временной зоны)

```php
Time::time('Y-m-d H:i:s', '2013-07-28 15:38:55'); // 1372851535
Time::time('Y-m-d', '2013-07-28'); // 1375038779
Time::time('Y-m-d H:i:s', '2013-07-28 00:00:00'); // 1374955200
Time::time('d.m.Y H:i:s', '28.07.2013 00:00:00'); // 1374955200
Time::time('d.m.Y', '28.07.2013'); // 1375038779
Time::time('Y-m-d', '2013-02-30'); // False
Time::time('d.m.Y', '28.07.2013', 'UTC'); // 1375024379
```

В случает указания даты и времени в некорректном формате, метод вернет `False`

####Проверяет дату и время на корректность

```php
Time::check('Y-m-d H:i:s', '2013-07-28 15:38:55'); // True
Time::check('Y-m-d', '2013-07-28'); // True
Time::check('d.m.Y', '28.07.2013'); // True
Time::check('H', '12'); // True
Time::check('H', '24'); // False
Time::check('Y-m-d H:i:s', '2013-02-30 15:38:55'); // False
Time::check('d.m.Y H:i', '28.07.2013 12:69'); // False
```

####Возвращает текущую дату и время (по умолчанию относительно установленной временной зоны)

```php
Time::date('d F Y, H:i:s', Time::now()); // 03 июля 2013, 15:38:55
Time::date('d F Y, H:i:s', Time::now(), 'UTC');  // 03 июля 2013, 11:38:55
Time::date('d F Y, H:i:s'); // 03 июля 2013, 15:38:55

```

Формат представления даты и времени аналогичен PHP функции date(). Языковые настройки хранятся в `/app/languages/ru/system.php`

####Возвращает разницу между двумя датами (по умолчанию относительно установленной временной зоны)

```php
$diff = Time::diff("1372847437", "1369060463");

test($diff);

Array
(
	[year] => 0
	[month] => 1
	[day] => 13
	[hour] => 19
	[min] => 56
	[sec] => 14
)
```

####Возвращает общую разницу между двумя датами (по умолчанию относительно установленной временной зоны)

```php
$diff = Time::diff_total("1372847437", "1369060463");

test($diff);

Array
(
	[year] => 0
	[month] => 1
	[day] => 43
	[hour] => 1051
	[min] => 63116
	[sec] => 3786974
)
```
