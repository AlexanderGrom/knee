
##Пользовательский ввод

###Основы

Практически каждому веб-приложению требуется получение пользовательского ввода. 
Это именно те данные, которые поступают от пользователя путем отправки формы или GET-параметров представленных в адресной строке.

Для получения и манипуляции данными пользовательского ввода Knee предоставляет класс `Input`. 
Конечно, никто не отменяет глобальные массивы `$_POST` и `$_GET`, но встроенный механизм Knee дает некоторые преимущества.

Представим, что приложение ждет от пользователя строку данных, но тот отправляет массив. 
Если разработчик не будет каждый раз проверять все данные пользователя на типы данных массив или строка, то интерпретатор PHP будет выдавать предупреждение.

Можно согласится, что все эти излишние проверки достаточно утомительное занятие, особенно если отправляемая форма насчитывает 20 элементов.

Что бы быть уверенными, что приложение будет работать с нужным типом данных в не зависимости от того, что отправил пользователь, следует использовать класс `Input`. 

###Доступ

Класс `Input` имеет ряд полезных методов.

####Получение данных

Представим, что мы ждем от пользователя заголовок статьи и хотим его получить.

```php
$title = Input::get('title');
```

> **Важно:** Метод `Input::get()` дает доступ к данным отправленными методами `GET` и `POST`. 
Обратите внимание, что эти данные хранятся в одном месте, исходя из этого, следует не использовать одинаковые имена GET-параметров и имена элементов формы, данные которых отправляются методом POST.

Теперь нужно получить массив значений из группы checkbox

```php
$flags = Input::get('flag[]');
```
Так же это может быть многомерный массив любой вложенности, возьмём второй уровень

```php
$flags = Input::get('flag[name][]');
$flag_1 = Input::get('flag[name][0]');
$flag_2 = Input::get('flag[name][1]');
```
При обращении к параметру не являющимся предполагаемым типом данных будет возвращена пустая строка или пустой массив соответственно.

```php
$flags = Input::get('flag'); // string ""
$title = Input::get('title[]');  // array()
```

Если искомых данных не поступило, то будет возвращена пустая строка или пустой массив в зависимости от предполагаемого типа данных, или заданное значение вторым параметром.

```php
$name = Input::get('name'); // string ""
$name = Input::get('name[]');  // array()
$name = Input::get('name', 'Jack');  // Jack
```

####Изменение данных

Для внесения изменений в предоставленные пользователем данные существует метод `Input::set()`, который имеет такой же синтаксис имен значений.

```php
Input::set('title', 'new_title'); // true
Input::set('flag[]', array()); // true
Input::set('flag', array()); // false
Input::set('flag[0]', 'yes'); // true
Input::set('flag[0][]', 'yes'); // false
Input::set('check[0][]', array()); // true
```

Если таких данных не существует или предполагается не верный тип, то метод вернет `false`.

####Проверка на пустое значение

Для проверки данных на пустоту необходимо воспользоваться методом `Input::has()`

```php
Input::has('title');
Input::has('flag[0]');
```

Если возвращаемое значение является пустой строкой или пустым массивом, то метод вернет `false` или `true` в противном случае.

####Проверка на наличие значения

Что бы проверить отправлял ли пользователь необходимые данные, следует воспользоваться методом `Input::exists()`

```php
if(Input::exists('submit'))
{
	// action
}

if(Input::exists('flag[3]'))
	// action
}
```

Если данные не были переданы, то метод вернет `false` или `true` в противном случае.

####Получение информации о загруженном файле

Для получения информации о загруженном файле необходимо воспользоваться методом `Input::file()`, который возвращает объект с информацией о файле.

```php
$file = Input::file('file');
$file = Input::file('file[0]');
```

Возвращаемый объект содержит базовую информацию о загруженном файле.

```php
Input::file('file')->name(); // имя файла
Input::file('file')->path(); // расположение файла
Input::file('file')->size(); // размер файла в байтах
Input::file('file')->extension(); // расширение файла
Input::file('file')->mime(); // mime-тип файла
Input::file('file')->exists(); // bool значение на удачность загрузки
```
