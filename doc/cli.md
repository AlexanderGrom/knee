
##Консоль

###Основы

Knee поддерживает работу из командной строки.

Разработчик может реализовать некоторый функционал приложения, который будет работать только из консоли.

Например, это может пригодиться для получения какой-либо технической информации или быстрой настройке приложения из командной строки, а так же запуска задач по расписанию используя, например демон-планировщик `Cron`.

Пользовательские классы для работы из командной стоки должны храниться в директории `/app/clis/`, директория может иметь вложенные папки.

Доступ к классам осуществляется "точечным путем" `dir.subdir.name`, а имя класса такого блока должно иметь вид `Dir_Subdir_Name_Cli`.

В директории `/app/clis/` могут быть приватные папки имя которых начинается с "_" - нижние подчеркивание. Такие папки недоступны по точечному пути и могут хранить вспомогательные классы. 

###Доступ

Предположим, у нас имеется класс для работы из командной строки, `knee.php` который расположен в директории `/app/clis/tests/`.
К такому модулю можно обратиться, используя путь `tests.knee`, а имя его класса должно иметь вид `Tests_Knee_Cli`.

```php
class Tests_Knee_Cli
{	
	public function __construct() {}

	public function text($text)
	{
		echo $text;
	}

	public function version()
	{
		echo 'Knee version 0.9';
	}

	public function params($param1, $param2)
	{
		echo $param1.'-'.$param2;
	}
}
```

Теперь мы можем обратиться к методам этого класса.

####Вызов только конструктора класса

```php
php command tests.knee
#
```

####Получение значения метода version

```php
php command tests.knee:version
#0.9
```

####Передача параметра в метод

```php
php command tests.knee:text long_string
#long_string
```

####Передача нескольких параметров в метод

```php
php command tests.knee:params str1 str2
#str1-str2
```

####Передача строки в метод

```php
php command tests.knee:text 'string with spaces'
#string with spaces
```

> **Важно:** Если вы находитесь не к корневой директории фреймворка (не где находится файл root.php), вы должны указать полный путь до корня флеймворка.
Например: `php /usr/www/mysite/htdocs/command tests.knee:text test`

####Обработка ошибок

В случае возникновения ошибок на экран терминала могут выводится следующие сообщения:

* **Path not specified** - Путь до класса не указан
* **Incorrect path** - Указан некорректный  путь
* **Class not found** - Класс не найден или не найден файл с классом
* **Method not found in class** - Метод не найден в указанном классе
* **Method not public** - Указаный метод является не публичным и не может быть вызван
* **Missing parameter** - Не указан один из обязательных параметров метода

